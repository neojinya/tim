<%= link_to "あ", timers_new_path %>
<%= link_to "い", timers_show_path %>
<div id = image_change>
</div>
<div class="bg-slider">
  <h1 class="bg-slider__title">BGSWITCHER DEMO PAGE</h1>
</div>
<option value="月給">月給</option>
<option value="日給">日給</option>
<option value="時給">時給</option>
<form name="form" id="form">
<input id="price" type="integer" name = "num">
</select>
<div id="div1">
  <input type="button" id="start" value="作業開始" >
</div>
<input type="button" onclick="location.reload()" value="リセット" />
</form>
<h3></h3>
<h1 id="timeis"></h1>
<h3 id="is"></h3>
<%# <script src="https://ajax.googleapis.com/ajax/libs/jquery/4.3.5/jquery.min.js"></script> %>

<script>
  let imagechange = document.getElementById("image_change");
  let count = 0;
  let div1 = document.getElementById("div1");
  let button = document.getElementById("start");
  var onclickstart = function(){
    // start_button = document.getElementById("start");
    // console.log(start_button);
    document.querySelector("h3").innerHTML = "";
    document.getElementById("is").innerHTML = "";
    let number = document.getElementById("price");
    var element = document.getElementById("income");
    var element2 = element.value;
    
    switch (element2){
      case "月給":
        console.log(number.value);
        wage = number.value/23/8/60/60;
      break;
      case "日給":
        console.log(number.value);
        wage = number.value/8/60/60;
      break;
      case "時給":
        console.log(number.value);
        wage = number.value/60/60;
      break;
    }
    start.parentNode.removeChild(start);  
    stop_btn = document.createElement("input");
    stop_btn.setAttribute("type","button");
    stop_btn.setAttribute("id","stop");
    stop_btn.setAttribute("value","作業終了");
    stop_btn.setAttribute("onclick","onclickstop()")
    div1.appendChild(stop_btn);


    stop_btn.onclick=function(){ //ここでfunction onclickstop()とすると、onclickstop is not definedが出る。
      console.log("createしたonclickでストップ");
      clearInterval(counttime);
      stop_btn.parentNode.removeChild(stop_btn);
      start_btn = document.createElement("input");
      start_btn.setAttribute("type","button");
      start_btn.setAttribute("id","start");
      start_btn.setAttribute("value","作業再開");
      start_btn.setAttribute("onclick","onclickstart()")
      div1.appendChild(start_btn);
    }
  time();
  function time(){
  count = count + wage;
  document.getElementById("timeis").innerHTML = "¥"+count;


  


  if (count < 1){
        jQuery(function($) {
          
    $('.bg-slider').bgSwitcher({
        images: ['1702.png','IMG_8926_copy.jpg'], // 切り替える背景画像を指定
        loop: false,
        interval: 0,
        duration: 3000
});

});
    }
  else if(1 <= count && count < 3){
    $('turbolinks:load', function() {
    console.log('ターボリンクスロード');
    
      
      
    $('.bg-slider').bgSwitcher({
        images: ['IMG_2361.JPG','IMG_5384_copy.jpg','IMG_7808.jpg'], // 切り替える背景画像を指定
        loop: false,
        interval: 2000,
        duration: 3000
});
});

    }
  else if(3 <= count && count < 5){
    jQuery(function() {
    $('.bg-slider').bgSwitcher({
        images: ['IMG_2361.jpg','IMG_7808.jpg'], // 切り替える背景画像を指定
        loop: false,
        interval: 0,
        duration: 3000
});
});
    }
  else if(5 <= count && count < 7){
    jQuery(function($) {
    $('.bg-slider').bgSwitcher({
        images: ['1702.png','IMG_8926_copy.jpg'], // 切り替える背景画像を指定
        loop: false,
        interval: 0,
        duration: 3000
});
});
    // document.body.style.backgroundImage = "url('IMG_6021_copy.jpg')";
  }
}
counttime = setInterval(time,1000);

  
  stop_btn.addEventListener("click",function(){
    document.querySelector("h3").innerHTML = "これまでの時間価値は";
    document.getElementById("is").innerHTML = "です";
  });  
}
button.onclick = onclickstart;
</script>